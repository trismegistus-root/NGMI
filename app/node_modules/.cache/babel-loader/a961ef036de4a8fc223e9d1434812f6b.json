{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"C:/ngmi/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/ngmi/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/ngmi/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/ngmi/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/ngmi/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/ngmi/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/ngmi/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import ngmi from'./contracts/ngmi.json';import\"./App.css\";import WhitePaper from\"./components/WhitePaper/WhitePaper.js\";import Web3 from'web3';var web3;var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var accounts,networkId,deployedNetwork,ngmiInstance,supply;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;web3=new Web3(Web3.givenProvider||\"ws://localhost:8545\");//set this.state({web3})\n_context.next=4;return web3.eth.getAccounts();case 4:accounts=_context.sent;_context.next=7;return web3.eth.net.getId();case 7:networkId=_context.sent;deployedNetwork=ngmi.networks[networkId];ngmiInstance=new web3.eth.Contract(ngmi.abi,deployedNetwork&&deployedNetwork.address);//set this.state({contract})\n_context.next=12;return ngmiInstance.methods[\"totalSupply\"]().call();case 12:supply=_context.sent;_this.setState({web3:web3,accounts:accounts,contract:ngmiInstance,totalSupply:supply},_this.runExample);_context.next=20;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](0);// Catch any errors for any of the above operations.\nalert(\"Failed to load web3, accounts, or contract. Check console for details.\");console.error(_context.t0);case 20:case\"end\":return _context.stop();}}},_callee,null,[[0,16]]);}));_this.mintToken=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(address){var _this$state,accounts,contract,ngmiResponse,supply;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$state=_this.state,accounts=_this$state.accounts,contract=_this$state.contract;_context2.next=3;return contract.methods[\"getToken\"]().send({from:accounts[0]});case 3:_context2.next=5;return contract.methods[\"getToken\"]().call();case 5:ngmiResponse=_context2.sent;_context2.next=8;return contract.methods[\"totalSupply\"]().call();case 8:supply=_context2.sent;_this.setState({storageValue:ngmiResponse,totalSupply:supply});case 10:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.state={web3:null,accounts:null,contract:null,totalSupply:null};_this.mintToken=_this.mintToken.bind(_assertThisInitialized(_this));_this.addressReceipt=_this.addressReceipt.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"addressReceipt\",value:function addressReceipt(address){this.mintToken(this.state.faucetAddress);}},{key:\"render\",value:function render(){if(!this.state.web3)return/*#__PURE__*/_jsx(\"div\",{children:\"Connect a wallet...\"});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(WhitePaper,{mint:this.mintToken,address:this.addressReceipt,accounts:this.state.accounts,supply:this.state.totalSupply})});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["C:/ngmi/app/src/App.js"],"names":["React","ngmi","WhitePaper","Web3","web3","App","props","componentDidMount","givenProvider","eth","getAccounts","accounts","net","getId","networkId","deployedNetwork","networks","ngmiInstance","Contract","abi","address","methods","call","supply","setState","contract","totalSupply","runExample","alert","console","error","mintToken","state","send","from","ngmiResponse","storageValue","bind","addressReceipt","faucetAddress","Component"],"mappings":"s7BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,uBAAjB,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,uCAAvB,CACA,MAAOC,CAAAA,IAAP,KAAiB,MAAjB,CAGA,GAAIC,CAAAA,IAAJ,C,GAGMC,CAAAA,G,sGACL,aAAYC,KAAZ,CAAkB,qCACjB,uBAAMA,KAAN,EADiB,MAOlBC,iBAPkB,sEAOE,8MAGjBH,IAAI,CAAG,GAAID,CAAAA,IAAJ,CAASA,IAAI,CAACK,aAAL,EAAsB,qBAA/B,CAAP,CAA+D;AAH9C,sBAIMJ,CAAAA,IAAI,CAACK,GAAL,CAASC,WAAT,EAJN,QAIXC,QAJW,qCAOOP,CAAAA,IAAI,CAACK,GAAL,CAASG,GAAT,CAAaC,KAAb,EAPP,QAOXC,SAPW,eAQbC,eARa,CAQKd,IAAI,CAACe,QAAL,CAAcF,SAAd,CARL,CASXG,YATW,CASI,GAAIb,CAAAA,IAAI,CAACK,GAAL,CAASS,QAAb,CACtBjB,IAAI,CAACkB,GADiB,CAEtBJ,eAAe,EAAIA,eAAe,CAACK,OAFb,CATJ,CAYI;AAZJ,uBAaIH,CAAAA,YAAY,CAACI,OAAb,CAAsB,aAAtB,IAAuCC,IAAvC,EAbJ,SAaXC,MAbW,eAcjB,MAAKC,QAAL,CAAc,CAAEpB,IAAI,CAAJA,IAAF,CAAQO,QAAQ,CAARA,QAAR,CAAkBc,QAAQ,CAAER,YAA5B,CAA0CS,WAAW,CAAEH,MAAvD,CAAd,CAA8E,MAAKI,UAAnF,EAdiB,iFAgBjB;AACAC,KAAK,0EAAL,CAGAC,OAAO,CAACC,KAAR,cApBiB,qEAPF,SA+BhBC,SA/BgB,2FA+BJ,kBAAOX,OAAP,wLACmB,MAAKY,KADxB,CACJrB,QADI,aACJA,QADI,CACMc,QADN,aACMA,QADN,wBAGNA,CAAAA,QAAQ,CAACJ,OAAT,CAAkB,UAAlB,IAAgCY,IAAhC,CAAqC,CAAEC,IAAI,CAAEvB,QAAQ,CAAC,CAAD,CAAhB,CAArC,CAHM,+BAIec,CAAAA,QAAQ,CAACJ,OAAT,CAAkB,UAAlB,IAAgCC,IAAhC,EAJf,QAINa,YAJM,uCAKSV,CAAAA,QAAQ,CAACJ,OAAT,CAAkB,aAAlB,IAAmCC,IAAnC,EALT,QAKNC,MALM,gBAMZ,MAAKC,QAAL,CAAc,CAAEY,YAAY,CAAED,YAAhB,CAA8BT,WAAW,CAAEH,MAA3C,CAAd,EANY,yDA/BI,gEAEjB,MAAKS,KAAL,CAAa,CAAE5B,IAAI,CAAE,IAAR,CAAcO,QAAQ,CAAE,IAAxB,CAA8Bc,QAAQ,CAAE,IAAxC,CAA8CC,WAAW,CAAE,IAA3D,CAAb,CACA,MAAKK,SAAL,CAAiB,MAAKA,SAAL,CAAeM,IAAf,+BAAjB,CACA,MAAKC,cAAL,CAAsB,MAAKA,cAAL,CAAoBD,IAApB,+BAAtB,CAJiB,aAKjB,C,sEAmCgBjB,O,CAAQ,CACvB,KAAKW,SAAL,CAAe,KAAKC,KAAL,CAAWO,aAA1B,EACA,C,uCAEM,CACL,GAAI,CAAC,KAAKP,KAAL,CAAW5B,IAAhB,CAAsB,mBAAO,4CAAP,CAChB,mBACC,kCACP,KAAC,UAAD,EACA,IAAI,CAAI,KAAK2B,SADb,CAEA,OAAO,CAAI,KAAKO,cAFhB,CAGA,QAAQ,CAAI,KAAKN,KAAL,CAAWrB,QAHvB,CAIA,MAAM,CAAI,KAAKqB,KAAL,CAAWN,WAJrB,EADO,EADD,CAUF,C,iBAzDU1B,KAAK,CAACwC,S,EA4DxB,cAAenC,CAAAA,GAAf","sourcesContent":["import React from \"react\";\r\nimport ngmi from './contracts/ngmi.json';\r\nimport \"./App.css\";\r\nimport WhitePaper from \"./components/WhitePaper/WhitePaper.js\";\r\nimport Web3 from 'web3';\r\n\r\n\r\nlet web3;\r\n\r\n\r\nclass App extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = { web3: null, accounts: null, contract: null, totalSupply: null};\r\n\t\tthis.mintToken = this.mintToken.bind(this);\r\n\t\tthis.addressReceipt = this.addressReceipt.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount = async () => {\r\n\t\t\r\n\t\ttry {\r\n\t\t  web3 = new Web3(Web3.givenProvider || \"ws://localhost:8545\");  //set this.state({web3})\r\n\t\t  const accounts = await web3.eth.getAccounts();\t\t\t\t //set this.state({accounts})\r\n\r\n\t\t  // Get the contract instance.\r\n\t\t  const networkId = await web3.eth.net.getId();\t\t\t\t\t\r\n\t\t  let deployedNetwork = ngmi.networks[networkId];\r\n\t\t  const ngmiInstance = new web3.eth.Contract(\r\n\t\t\tngmi.abi,\r\n\t\t\tdeployedNetwork && deployedNetwork.address,\r\n\t\t  );\t\t\t\t\t\t\t\t\t\t\t\t\t\t     //set this.state({contract})\r\n\t\t  const supply = await ngmiInstance.methods.[\"totalSupply\"]().call();\r\n\t\t  this.setState({ web3, accounts, contract: ngmiInstance, totalSupply: supply}, this.runExample);\r\n\t\t} catch (error) {\r\n\t\t  // Catch any errors for any of the above operations.\r\n\t\t  alert(\r\n\t\t\t`Failed to load web3, accounts, or contract. Check console for details.`,\r\n\t\t  );\r\n\t\t  console.error(error);\r\n\t\t}\r\n\t  };\r\n\r\n\t\t mintToken = async (address) => {\r\n\t\t\tconst { accounts, contract } = this.state;\r\n\r\n\t\t\tawait contract.methods.[\"getToken\"]().send({ from: accounts[0]});\r\n\t\t\tconst ngmiResponse = await contract.methods.[\"getToken\"]().call();\r\n\t\t\tconst supply = await contract.methods.[\"totalSupply\"]().call();\r\n\t\t\tthis.setState({ storageValue: ngmiResponse, totalSupply: supply});\r\n\t\t\t};\r\n\r\n\t\t addressReceipt(address){\r\n\t\t\tthis.mintToken(this.state.faucetAddress);\r\n\t\t}\r\n\r\n\trender(){\r\n\t\t  if (!this.state.web3) return <div>Connect a wallet...</div>;\r\n          return (\r\n           <div>\r\n\t\t\t\t<WhitePaper \r\n\t\t\t\tmint = {this.mintToken} \r\n\t\t\t\taddress = {this.addressReceipt} \r\n\t\t\t\taccounts = {this.state.accounts} \r\n\t\t\t\tsupply = {this.state.totalSupply}\r\n\t\t\t\t/>\r\n\t\t   </div>\r\n          )\r\n       }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}